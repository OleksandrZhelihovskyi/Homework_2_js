<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Homework_classes</title>
</head>

<body>
    <script>
        function Task(id, title, description) {
            this.id = id;
            this.title = title;
            this.description = description;
            this.toString = () => {
                return `${this.id} - ${this.title} - ${this.description}`
            }
        }

        function BlockedTask(id, title, description) {
            this.__proto__ = new Task(id, title, description);
            this.toString = function () {
                return "BLOCKED:" + this.__proto__.toString()
            }
        }

        function DeadlineTask(id, title, description, deadline) {
            this.__proto__ = new Task(id, title, description);
            this.deadline = new Date();
            this.toString = function () {
                if (this.deadline.getTime() < deadline.getTime())
                    return this.__proto__.toString() + ` - ${this.deadline}`
                else return this.__proto__.toString() + ` - ${this.deadline} - DEADLINE PASSED`
            }
        }

        function TaskPrinter(Task) {
            this.print = function () {
                Task.forEach(function (element) {
                    console.log(element.toString());
                });
            }
        }

        let deadline = new Date("December 17, 2021 03:24:00");
        const task1 = new Task(1, 'first', 'this is the first one');
        const task2 = new DeadlineTask(2, 'second', 'this is the deadline task', deadline);
        const task3 = new BlockedTask(3, 'third', 'this is the blocked one');
        const Tasks = [];
        Tasks.push(task1);
        Tasks.push(task2);
        Tasks.push(task3);
        const Printer = new TaskPrinter(Tasks);

        Printer.print();

    </script>
</body>

</html>